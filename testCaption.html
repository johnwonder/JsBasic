<html>
<head>
<title>测试表格Caption问题</title>
<meta></meta>
 <script type="text/javascript" src="parsePath_old.js"></script>
</head>

<body>
<div class="cycle-outer">
	<div class="cycle-wrapper">
		<div class="cycle-body">
			<div class="seat">
				<span></span>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
var _hasCaptionProblem;
function detectCaptionProblem() {
  var TABLE = document.createElement('TABLE');
  TABLE.style.borderSpacing = 0;
  TABLE.style.borderWidth = 0;
  TABLE.style.padding = 0;
  var TBODY = document.createElement('TBODY');
  TABLE.appendChild(TBODY);
  TBODY.appendChild(document.createElement('TR'));
  TBODY.firstChild.appendChild(document.createElement('TD'));
  TBODY.firstChild.firstChild.innerHTML = '<tr><td>t<br>t</td></tr>';

  var CAPTION = document.createElement('CAPTION');
  CAPTION.innerHTML = 'c<br>c<br>c<br>c';
  CAPTION.style.padding = 0;
  CAPTION.style.margin = 0;
  TABLE.insertBefore(CAPTION, TBODY);

  document.body.appendChild(TABLE);
  _hasCaptionProblem = (TABLE.offsetHeight < 2 * TABLE.lastChild.offsetHeight); //boolean
  document.body.removeChild(TABLE);
}
detectCaptionProblem();
console.log(_hasCaptionProblem);
</script>
</body>
<html>